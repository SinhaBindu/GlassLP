@model ParticipantM2ViewModel
<div class="row">
	<div class="col-12">
		<div class="card">
			<div class="card-header">
				<h5>Add Participant Model2</h5>
			</div>
			<div class="card-body">
				<form class="app-form" method="post" enctype="multipart/form-data" id="addForm">
					<div class="row">
						<div class="col-md-4">
							<div class="mb-3">
								@Html.LabelFor(m => m.TypeofParticipantId, new { @class = "form-label d-block" })

								<div class="form-check form-check-inline">
									@Html.RadioButtonFor(m => m.TypeofParticipantId, 1, new { @class = "form-check-input", id = "New" })
									<label class="form-check-label" for="New">New</label>
								</div>

								<div class="form-check form-check-inline">
									@Html.RadioButtonFor(m => m.TypeofParticipantId, 2, new { @class = "form-check-input", id = "Repeat" })
									<label class="form-check-label" for="Repeat">Repeat Customers</label>
								</div>

								@Html.ValidationMessageFor(m => m.TypeofParticipantId, "", new { @class = "text-danger" })
							</div>
						</div>

						<div class="col-md-4">
							<div class="mb-3">
								@Html.LabelFor(m => m.ParticipantName, new { @class = "form-label" })
								@Html.EditorFor(m => m.ParticipantName, new { htmlAttributes = new { @class = "required form-control", @maxlength = "500" } })
							</div>
						</div>
						<div class="col-md-4">
							<div class="mb-3">
								@Html.LabelFor(m => m.MobileNo, new { @class = "form-label" })
								@Html.EditorFor(m => m.MobileNo, new { htmlAttributes = new { @class = "required form-control", @maxlength = "500" } })
							</div>
						</div>
						<div class="col-md-4">
							<div class="mb-3">
								@Html.LabelFor(m => m.Age, new { @class = "form-label" })
								@Html.EditorFor(m => m.Age, new { htmlAttributes = new { @class = "required form-control", @maxlength = "500" } })
							</div>
						</div>
						<div class="col-md-4">
							<div class="mb-3">
								@Html.LabelFor(m => m.ScreeningDate, new { @class = "form-label" })
								@Html.EditorFor(m => m.ScreeningDate, new { htmlAttributes = new { @class = "required form-control", @maxlength = "500" } })
							</div>
						</div>
						<div class="col-md-4">
							<div class="mb-3">
								@Html.LabelFor(m => m.SHGName, new { @class = "form-label" })
								@Html.EditorFor(m => m.SHGName, new { htmlAttributes = new { @class = "required form-control", @maxlength = "500" } })
							</div>
						</div>
						<div class="col-md-4">
							<div class="mb-3">
								@Html.LabelFor(m => m.OccupationId, new { @class = "form-label" })
								@Html.DropDownListFor(m => m.OccupationId, new List<SelectListItem>(), "-- Select--", new { @class = "form-control" })
							</div>
						</div>
						<div class="col-md-4">
							<div class="mb-3">
								@Html.LabelFor(m => m.VisionIssueIdentifiedId, new { @class = "form-label d-block" })

								<div class="form-check form-check-inline">
									@Html.RadioButtonFor(m => m.VisionIssueIdentifiedId, "1",
										new { @class = "form-check-input", id = "VisionYes" })
									<label class="form-check-label" for="VisionYes">Yes</label>
								</div>

								<div class="form-check form-check-inline">
									@Html.RadioButtonFor(m => m.VisionIssueIdentifiedId, "2",
										new { @class = "form-check-input", id = "VisionNo" })
									<label class="form-check-label" for="VisionNo">No</label>
								</div>

								@Html.ValidationMessageFor(m => m.VisionIssueIdentifiedId, "", new { @class = "text-danger" })
							</div>
						</div>

						<div class="col-md-4">
							<div class="mb-3">
								@Html.LabelFor(m => m.TypeofVisionIssueId, new { @class = "form-label" })
								@Html.DropDownListFor(m => m.TypeofVisionIssueId, new List<SelectListItem>
								{
								new SelectListItem { Text = "pyesMyopia", Value = "1" },
								new SelectListItem { Text = "Other", Value = "2" }
								},
									"-- Select --",
									new { @class = "form-control" })
							</div>
						</div>
						<div class="col-md-4">
							<div class="mb-3">
								@Html.LabelFor(m => m.Glassessold, new { @class = "form-label d-block" })

								<div class="form-check form-check-inline">
									@Html.RadioButtonFor(m => m.Glassessold, "1",
										new { @class = "form-check-input", id = "GlassesYes" })
									<label class="form-check-label" for="GlassesYes">Yes</label>
								</div>

								<div class="form-check form-check-inline">
									@Html.RadioButtonFor(m => m.Glassessold, "0",
										new { @class = "form-check-input", id = "GlassesNo" })
									<label class="form-check-label" for="GlassesNo">No</label>
								</div>

								@Html.ValidationMessageFor(m => m.Glassessold, "", new { @class = "text-danger" })
							</div>
						</div>

						<div class="col-md-4">
							<div class="mb-3">
								@Html.LabelFor(m => m.PowerofGlassId, new { @class = "form-label" })
								@Html.DropDownListFor(m => m.PowerofGlassId, new List<SelectListItem>(),
																	"Select", new { @class = "form-control" })
							</div>
						</div>
						<div class="col-md-4">
							<div class="mb-3">
								@Html.LabelFor(m => m.FeedbackonComfort, new { @class = "form-label" })
								@Html.DropDownListFor(m => m.FeedbackonComfort, new List<SelectListItem>
								{
								new SelectListItem { Text = "Satisfied", Value = "1" },
								new SelectListItem { Text = "Not Satisfied", Value = "2" },
								new SelectListItem { Text = "Adjustment Needed", Value = "3" }
								},
																	"-- Select Feed backon Comfort --", new { @class = "form-control" })
							</div>
						</div>
						<div class="col-md-4">
							<div class="mb-3">
								@Html.LabelFor(m => m.Remarks, new { @class = "form-label" })
								@Html.EditorFor(m => m.Remarks, new { htmlAttributes = new { @class = "required form-control", @maxlength = "500" } })
							</div>
						</div>
						<div class="col-md-4">
							<div class="mb-3">
								@Html.LabelFor(m => m.FollowupRequiredId, new { @class = "form-label d-block" })

								<div class="form-check form-check-inline">
									@Html.RadioButtonFor(m => m.FollowupRequiredId, 1, new { @class = "form-check-input", id = "New" })
									<label class="form-check-label" for="New">Yes</label>
								</div>

								<div class="form-check form-check-inline">
									@Html.RadioButtonFor(m => m.FollowupRequiredId, 2, new { @class = "form-check-input", id = "Repeat" })
									<label class="form-check-label" for="Repeat">No</label>
								</div>

								@Html.ValidationMessageFor(m => m.FollowupRequiredId, "", new { @class = "text-danger" })
							</div>
						</div>

						<div class="col-md-4">
							<div class="mb-3">
								@Html.LabelFor(m => m.DigitalConsentId, new { @class = "form-label d-block" })

								<div class="form-check form-check-inline">
									@Html.RadioButtonFor(m => m.DigitalConsentId, "1", new { @class = "form-check-input", id = "digitalConsentYes" })
									<label class="form-check-label" for="digitalConsentYes">Yes</label>
								</div>

								<div class="form-check form-check-inline">
									@Html.RadioButtonFor(m => m.DigitalConsentId, "2", new { @class = "form-check-input", id = "digitalConsentNo" })
									<label class="form-check-label" for="digitalConsentNo">No</label>
								</div>
							</div>
						</div>

						<div class="col-md-4">
							<div class="mb-3">
								@Html.LabelFor(m => m.Location, new { @class = "form-label d-block" })

								<div class="form-check form-check-inline">
									@Html.RadioButtonFor(m => m.Location, "Camp", new { @class = "form-check-input", id = "locationCamp" })
									<label class="form-check-label" for="locationCamp">Camp</label>
								</div>

								<div class="form-check form-check-inline">
									@Html.RadioButtonFor(m => m.Location, "Home Visit", new { @class = "form-check-input", id = "locationHome" })
									<label class="form-check-label" for="locationHome">Home Visit</label>
								</div>
							</div>
						</div>

						<div class="col-md-4">
							<div class="mb-3">
								@Html.LabelFor(m => m.ScreeningCost, new { @class = "form-label" })
								@Html.EditorFor(m => m.ScreeningCost, new { htmlAttributes = new { @class = "required form-control", @maxlength = "500" } })
							</div>
						</div>
						<div class="col-md-4">
							<div class="mb-3">
								@Html.LabelFor(m => m.GlassesCost, new { @class = "form-label" })
								@Html.EditorFor(m => m.GlassesCost, new { htmlAttributes = new { @class = "required form-control", @maxlength = "500" } })
							</div>
						</div>
						<div class="col-md-4">
							<div class="mb-3">
								@Html.LabelFor(m => m.RemarksActionTaken, new { @class = "form-label" })
								@Html.EditorFor(m => m.RemarksActionTaken, new { htmlAttributes = new { @class = "required form-control", @maxlength = "500" } })
							</div>
						</div>
						<div class="col-12">
							<div class="text-end">
								<button class="btn btn-primary" type="submit">
									Submit
								</button>
							</div>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>
@section Scripts {
	@{
		await Html.RenderPartialAsync("_ValidationScriptsPartial");
	}
	<script>
		$(document).ready(function () {
			
			GetOccupations("OccupationId");
			GetPowerofGlasses("PowerofGlassId");

			//Post sumbitted Data
			$('#btnSubmit').click(function () {
				var form = $('#addForm')[0];
				var formData = new FormData(form);
				$.ajax({
					url: '/ParticipantM1/Create',
					type: 'POST',
					data: formData,
					processData: false, // Important for files
					contentType: false, // Important for files
					success: function (response) {
						$('#responseMessage').html(
							'<div class="alert alert-success">Camp added successfully!</div>'
						);
						$('#addParticipantM1Form')[0].reset();
					},
					error: function (xhr) {
						$('#responseMessage').html(
							'<div class="alert alert-danger">Error: ' + xhr.responseText + '</div>'
						);
					}
				});
			});
		});
	</script>
}